Source URL: https://developers.google.com/maps/documentation/datasets/get

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Maps Datasets API [https://developers.google.com/maps/documentation/datasets?hl=ko]
의견 보내기
데이터 세트 가져오기
데이터 세트를 만들고 데이터를 업로드한 후 HTTP GET 요청을 사용하여 데이터 세트에 액세스할 수 있습니다. 이 페이지에서는 모든 데이터 세트를 나열하는 방법, 특정 데이터 세트에 관한 정보를 가져오는 방법, 데이터 세트에서 데이터를 다운로드하는 방법을 설명합니다.
데이터 세트 버전 정보
데이터 업로드가 완료되면 데이터 세트의 상태가 STATE_COMPLETED로 설정되고 해당 데이터 세트가 활성 버전이 됩니다. 즉, 데이터 세트를 앱에서 사용할 수 있습니다. 데이터 세트의 state를 확인하려면 모든 데이터 세트를 나열하거나 특정 데이터 세트를 가져오면 됩니다.
데이터 세트에 새 데이터를 업로드하여 새 버전의 데이터 세트를 만들 수 있습니다.
새 데이터가 성공적으로 업로드되면 새 버전이 '활성' 버전이 되고 앱에서 사용되는 버전이 됩니다.
업로드에 오류가 있으면 이전에 성공한 데이터 세트 버전이 '활성' 버전으로 유지되며 앱에서 사용되는 버전입니다.
데이터 세트의 새 버전을 만드는 방법에 대한 자세한 내용은 데이터 세트에 새 데이터 업로드 [https://developers.google.com/maps/documentation/datasets/create?hl=ko#new-version]를 참고하세요.
모든 데이터 세트 나열
HTTP GET 요청을 데이터 세트 나열 [https://developers.google.com/maps/documentation/datasets/reference/rest/v1/projects.datasets/list?hl=ko] 엔드포인트로 보내 모든 데이터 세트를 나열합니다.
https://mapsplatformdatasets.googleapis.com/v1/projects/PROJECT_NUMBER_OR_ID/datasets
이 요청은 버전이 활성 버전인지 여부와 관계없이 모든 데이터 세트의 최신 버전에 관한 정보를 반환합니다. 각 데이터 세트의 활성 버전만 나열하려면 tag=active 쿼리 매개변수를 요청에 추가합니다.
https://mapsplatformdatasets.googleapis.com/v1/projects/PROJECT_NUMBER_OR_ID/datasets?tag=active
예를 들어 이 호출은 모든 데이터 세트의 최신 버전에 관한 정보를 반환합니다.
curl -X GET \
-H 'X-Goog-User-Project: PROJECT_NUMBER_OR_ID' \
-H 'Authorization: Bearer $TOKEN' \
"https://mapsplatformdatasets.googleapis.com/v1/projects/PROJECT_NUMBER_OR_ID/datasets"
이 호출은 다음 형식으로 응답을 반환합니다.
{
  "datasets": [
    {
      "name": "projects/PROJECT_NUMBER_OR_ID/datasets/f57074a0-a8b6-403e-9df1-e8a9e4f9fc46",
      "displayName": "My Test Dataset",
      "versionId": "5fb34e-1405-4ecd-8f81-31f1c07",
      "usage": [
        "USAGE_DATA_DRIVEN_STYLING"
      ],
      "gcsSource": {
        "inputUri": "gs://mybucket/my.csv",
        "fileFormat": "FILE_FORMAT_CSV"
      },
      "createTime": "2023-03-24T14:47:37.308977Z",
      "updateTime": "2023-03-24T14:48:05.053114Z",
      "versionCreateTime": "2023-03-24T14:48:05.053114Z",
      "status": {
        "state": "STATE_COMPLETED"
      }
    },
    {
      "name": "projects/PROJECT_NUMBER_OR_ID/datasets/2c8ae479-96704-89c6435ca959",
      "displayName": "My Other Test Dataset",
      "versionId": "0d2e3-b9da-47cc-819f-7ac67562",
      "usage": [
        "USAGE_DATA_DRIVEN_STYLING"
      ],
      "localFileSource": {
        "fileFormat": "FILE_FORMAT_CSV"
      },
      "createTime": "2023-03-24T14:41:52.579755Z",
      "updateTime": "2023-03-24T14:42:56.784122Z",
      "versionCreateTime": "2023-03-24T14:42:56.784122Z",
      "status": {
        "state": "STATE_COMPLETED"
      }
    }
  ]
}
데이터 세트 정보 가져오기
특정 데이터 세트에 관한 정보를 가져오려면 데이터 세트의 ID도 포함하는 데이터 세트 가져오기 [https://developers.google.com/maps/documentation/datasets/reference/rest/v1/projects.datasets/get?hl=ko] 엔드포인트에 HTTP GET 요청을 전송합니다.
https://mapsplatformdatasets.googleapis.com/v1/projects/PROJECT_NUMBER_OR_ID/datasets/DATASET_ID
이 요청은 버전이 활성 버전인지 여부와 관계없이 데이터 세트의 최신 버전에 관한 정보를 반환합니다. 활성 버전의 데이터 세트에 관한 정보를 원하는 경우 요청에 @active 태그를 추가합니다.
https://mapsplatformdatasets.googleapis.com/v1/projects/PROJECT_NUMBER_OR_ID/datasets/DATASET_ID@active
예를 들면 다음과 같습니다.
curl -X GET \
-H 'X-Goog-User-Project: PROJECT_NUMBER_OR_ID' \
-H 'Authorization: Bearer $TOKEN' \
"https://mapsplatformdatasets.googleapis.com/v1/projects/PROJECT_NUMBER_OR_ID/datasets/f57074a0-a8b6-403e-9df1-e8a9e4f9fc46@active"
이 요청은 다음 형식으로 응답을 반환합니다.
{
  "name": "projects/PROJECT_NUMBER_OR_ID/datasets/f57074a0-a8b6-403e-9df1-e8a9e4f9fc46",
  "displayName": "My Test Dataset",
  "versionId": "5fb34e-1405-4ecd-8f81-31f1c07",
  "usage": [
    "USAGE_DATA_DRIVEN_STYLING"
  ],
  "gcsSource": {
    "inputUri": "gs://mybucket/my.csv",
    "fileFormat": "FILE_FORMAT_CSV"
  },
  "createTime": "2023-03-24T14:47:37.308977Z",
  "updateTime": "2023-03-24T14:48:05.053114Z",
  "versionCreateTime": "2023-03-24T14:48:05.053114Z",
  "status": {
    "state": "STATE_COMPLETED"
  }
}
데이터 세트 다운로드
최신 버전의 데이터 세트에서 데이터를 다운로드하려면 데이터 세트 ID도 포함된 데이터 세트 다운로드 엔드포인트로 HTTP GET 요청을 보냅니다. [https://developers.google.com/maps/documentation/datasets/reference/rest/v1/media/download?hl=ko]
참고: 최신 버전이 데이터 세트의 활성 버전이 아닐 수 있습니다.
https://mapsplatformdatasets.googleapis.com/v1/projects/PROJECT_NUMBER_OR_ID/datasets/DATASET_ID:download?alt=media
예를 들면 다음과 같습니다.
curl -X GET -L \
-H 'X-Goog-User-Project: PROJECT_NUMBER_OR_ID' \
-H 'Authorization: Bearer $TOKEN' \
--output LOCAL_LOCATION_TO_OUTPUT \
"https://mapsplatformdatasets.googleapis.com/download/v1/projects/PROJECT_NUMBER_OR_ID/datasets/f57074a0-a8b6-403e-9df1-e8a9e4f9fc46:download?alt=media"
이 예에서는 cURL --output 옵션을 사용하여 다운로드된 데이터를 보유하는 파일의 이름을 지정합니다. 예를 들어 다음 --output 플래그는 cURL 명령어를 실행하는 데 사용된 동일한 디렉터리에 있는 myjson.json이라는 파일에 데이터 세트를 다운로드하도록 지정합니다.
--output myjson.json
또는 다음 플래그를 사용하여 데이터를 /tmp 디렉터리의 myjson.json에 다운로드합니다.
--output /tmp/myjson.json
의견 보내기