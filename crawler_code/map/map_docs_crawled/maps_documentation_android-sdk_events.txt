Source URL: https://developers.google.com/maps/documentation/android-sdk/events

홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Android [https://developers.google.com/maps/android?hl=ko]
Maps SDK for Android [https://developers.google.com/maps/documentation/android-sdk/overview?hl=ko]
안내 [https://developers.google.com/maps/documentation/android-sdk?hl=ko]
의견 보내기
일정
플랫폼 선택: Android [https://developers.google.com/maps/documentation/android-sdk/events?hl=ko] iOS [https://developers.google.com/maps/documentation/ios-sdk/events?hl=ko] JavaScript [https://developers.google.com/maps/documentation/javascript/events?hl=ko]
Android용 Maps SDK를 사용하면 지도에서 이벤트를 수신할 수 있습니다.
코드 샘플
GitHub의 ApiDemos 저장소 [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos]에는 이벤트와 리스너를 보여주는 샘플이 있습니다.
Kotlin
EventsDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/kotlin/app/src/gms/java/com/example/kotlindemos/EventsDemoActivity.kt]: 지도 클릭 및 카메라 변경 이벤트
CameraDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/kotlin/app/src/gms/java/com/example/kotlindemos/CameraDemoActivity.kt]: 카메라 변경 이벤트
CircleDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/kotlin/app/src/gms/java/com/example/kotlindemos/CircleDemoActivity.kt]: 마커 클릭 및 드래그 이벤트
GroundOverlayDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/kotlin/app/src/gms/java/com/example/kotlindemos/GroundOverlayDemoActivity.kt]: 지면 오버레이 클릭 이벤트
IndoorDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/kotlin/app/src/gms/java/com/example/kotlindemos/IndoorDemoActivity.kt]: 실내 지도 이벤트
MarkerDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/kotlin/app/src/gms/java/com/example/kotlindemos/MarkerDemoActivity.kt]: 마커 및 정보 창 이벤트
PolygonDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/kotlin/app/src/gms/java/com/example/kotlindemos/PolygonDemoActivity.kt]: 다각형 이벤트
Java
EventsDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/java/app/src/gms/java/com/example/mapdemo/EventsDemoActivity.java]: 지도 클릭 및 카메라 변경 이벤트
CameraDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/java/app/src/gms/java/com/example/mapdemo/CameraDemoActivity.java]: 카메라 변경 이벤트
CircleDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/java/app/src/gms/java/com/example/mapdemo/CircleDemoActivity.java]: 마커 클릭 및 드래그 이벤트
GroundOverlayDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/java/app/src/gms/java/com/example/mapdemo/GroundOverlayDemoActivity.java]: 지면 오버레이 클릭 이벤트
IndoorDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/java/app/src/gms/java/com/example/mapdemo/IndoorDemoActivity.java]: 실내 지도 이벤트
MarkerDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/java/app/src/gms/java/com/example/mapdemo/MarkerDemoActivity.java]: 마커 및 정보 창 이벤트
PolygonDemoActivity [https://github.com/googlemaps-samples/android-samples/blob/master/ApiDemos/java/app/src/gms/java/com/example/mapdemo/PolygonDemoActivity.java]: 다각형 이벤트
지도 클릭/긴 클릭 이벤트
지도에서 GoogleMap.setOnMapClickListener(OnMapClickListener)를 호출해서 설정하는 OnMapClickListener [https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnMapClickListener?hl=ko]를 사용하면 지도에서 특정 지점을 탭한 사용자에게 응답할 수 있습니다. 사용자가 지도의 한 지점을 클릭(탭)하면 지도에서 사용자가 클릭한 위치를 나타내는 onMapClick(LatLng) 이벤트가 수신됩니다. 화면에 이러한 위치(픽셀 단위)를 표시해야 하면 위도/경도 좌표와 화면 픽셀 좌표 간에 변환할 수 있도록 지원하는 Projection [https://developers.google.com/android/reference/com/google/android/gms/maps/Projection?hl=ko]을 지도에서 가져오세요.
지도에서 GoogleMap.setOnMapLongClickListener(OnMapLongClickListener)를 호출하여 설정할 수 있는 OnMapLongClickListener [https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnMapLongClickListener?hl=ko]를 이용해 긴 클릭 이벤트를 수신할 수도 있습니다. 이 리스너는 클릭 리스너와 유사하게 작동하며 onMapLongClick(LatLng) 콜백과 함께 긴 클릭 이벤트가 발생할 경우 알림을 받게 됩니다.
라이트 모드에서 클릭 이벤트 사용 중지
라이트 모드 [https://developers.google.com/maps/documentation/android-sdk/lite?hl=ko]에서 지도의 클릭 이벤트를 사용 중지하려면 MapView 또는 MapFragment가 포함된 보기에서 setClickable()을 호출하세요. 이 방법은 예를 들어 1개 이상의 지도를 목록 보기에 표시하고, 이 보기에서 클릭 이벤트 발생 시 지도와 관련이 없는 작업을 호출하려는 경우에 유용합니다.
클릭 이벤트를 사용 중지하는 옵션은 라이트 모드에서만 사용할 수 있습니다. 클릭 이벤트를 사용 중지하면 마커도 클릭할 수 없게 됩니다. 지도의 다른 컨트롤에는 영향을 미치지 않습니다.
MapView의 경우:
MapFragment의 경우:
카메라 변경 이벤트
지도뷰는 카메라가 평면을 내려다보는 것을 모델링하여 표시됩니다. 카메라의 속성을 변경하여 지도의 확대/축소 수준, 표시 영역, 시점을 바꿀 수 있습니다. 카메라 [https://developers.google.com/maps/documentation/android-sdk/views?hl=ko#the_camera_position] 가이드를 참고하세요. 사용자는 동작 [https://developers.google.com/maps/documentation/android-sdk/controls?hl=ko#map_gestures]을 통해 카메라에 영향을 미칠 수도 있습니다.
카메라 변경 리스너를 사용하면 카메라 움직임을 추적할 수 있습니다. 앱에서 카메라 움직임의 시작, 진행, 종료 이벤트에 대한 알림을 수신할 수 있습니다. 카메라가 움직이는 이유, 즉 카메라의 움직임이 사용자 동작에 의해 발생했는지, 기본 제공된 API 애니메이션이나 개발자가 조절하는 움직임에 의해 발생했는지 확인할 수도 있습니다.
다음 샘플에서는 사용 가능한 모든 카메라 이벤트 리스너를 보여줍니다.
다음과 같은 카메라 리스너를 사용할 수 있습니다.
카메라가 움직이기 시작하면 OnCameraMoveStartedListener의 onCameraMoveStarted() 콜백이 호출됩니다. 콜백 메서드는 카메라 움직임에 대한 reason을 수신합니다. 다음 중 하나의 경우일 수 있습니다.
REASON_GESTURE: 지도 화면 이동, 기울이기, 손가락을 모으거나 벌려 확대/축소, 회전 등 지도에서 사용자의 동작에 따라 카메라가 움직였음을 나타냅니다.
REASON_API_ANIMATION: 확대/축소 버튼 탭, 내 위치 버튼 탭, 마커 클릭 등 사용자의 동작이 아닌 작업에 따라 API가 카메라를 움직였음을 나타냅니다.
REASON_DEVELOPER_ANIMATION: 앱에서 카메라를 움직이기 시작했음을 나타냅니다.
카메라가 움직이거나 사용자가 터치 스크린과 상호작용하는 동안 OnCameraMoveListener의 onCameraMove() 콜백이 여러 번 호출됩니다. API에서 프레임당 콜백을 한 번 호출한다는 점을 알면 콜백이 호출되는 빈도를 알 수 있습니다. 하지만 이 콜백은 비동기식으로 호출되므로 화면에 표시되는 내용과 일치하지 않습니다. 또한 하나의 onCameraMove() 콜백과 그 다음 콜백 사이에 카메라 위치가 변경되지 않을 수 있습니다.
카메라가 움직임을 중지하고 사용자가 지도와의 상호작용을 중지하면 OnCameraIdleListener의 OnCameraIdle() 콜백이 호출됩니다.
현재 카메라 움직임이 중단된 경우 OnCameraMoveCanceledListener의 OnCameraMoveCanceled() 콜백이 호출됩니다. OnCameraMoveCanceled() 콜백 직후 onCameraMoveStarted() 콜백이 새 reason과 함께 호출됩니다.
앱에서 GoogleMap.stopAnimation() [https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap?hl=ko#stopAnimation()]을 명시적으로 호출하면 OnCameraMoveCanceled() 콜백이 호출되지만 onCameraMoveStarted() 콜백은 호출되지 않습니다.
지도에 리스너를 설정하려면 관련 set-listener 메서드를 호출하세요. 예를 들어 OnCameraMoveStartedListener의 콜백을 요청하려면 GoogleMap.setOnCameraMoveStartedListener()를 호출하세요.
CameraPosition [https://developers.google.com/android/reference/com/google/android/gms/maps/model/CameraPosition?hl=ko]에서 카메라의 타겟(위도/경도), 확대/축소, 방위, 기울기를 가져올 수 있습니다. 이러한 속성에 대한 자세한 내용은 카메라 위치 [https://developers.google.com/maps/documentation/android-sdk/views?hl=ko#the_camera_position] 가이드를 참고하세요.
지원 중단 알림: OnCameraChangeListener [https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnCameraChangeListener?hl=ko]는 지원 중단되고 대신 위에 설명된 리스너, 즉 OnCameraMoveStartedListener, OnCameraMoveListener, OnCameraMoveCanceledListener, OnCameraIdleListener가 지원됩니다.
비즈니스 및 기타 관심 장소의 이벤트
기본적으로 관심 장소(POI)는 해당 아이콘과 함께 기본 지도에 표시됩니다. 관심 장소에는 공원, 학교, 정부 건물 등은 물론 상점, 음식점, 호텔 등 비즈니스 관심 장소도 포함됩니다.
관심 장소의 클릭 이벤트에 응답할 수 있습니다. 비즈니스 및 기타 관심 장소 [https://developers.google.com/maps/documentation/android-sdk/poi?hl=ko#poi-events] 가이드를 참고하세요.
실내 지도 이벤트
이벤트를 사용하여 실내 지도의 활성 층을 찾아 맞춤설정할 수 있습니다. 새 건물에 포커스가 지정되거나 건물에서 새 층이 활성화될 때 호출되는 리스너를 설정하려면 OnIndoorStateChangeListener [https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnIndoorStateChangeListener?hl=ko] 인터페이스를 사용하세요.
GoogleMap.getFocusedBuilding() [https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap?hl=ko#getFocusedBuilding()]을 호출하여 현재 포커스가 지정된 건물을 표시합니다. 특정 위도/경도에 지도의 중심을 맞추면 일반적으로 해당 위도/경도의 건물이 표시되지만 반드시 그런 것은 아닙니다.
그런 다음 IndoorBuilding.getActiveLevelIndex() [https://developers.google.com/android/reference/com/google/android/gms/maps/model/IndoorBuilding?hl=ko#getActiveLevelIndex()]를 호출하여 현재 활성 층을 찾을 수 있습니다.
이 기능은 마커 [https://developers.google.com/maps/documentation/android-sdk/marker?hl=ko], 지면 오버레이 [https://developers.google.com/maps/documentation/android-sdk/groundoverlay?hl=ko], 타일 오버레이 [https://developers.google.com/maps/documentation/android-sdk/tileoverlay?hl=ko], 다각형, 다중선, 기타 도형 [https://developers.google.com/maps/documentation/android-sdk/shapes?hl=ko] 등 활성 층의 맞춤 마크업을 표시하려는 경우 유용합니다.
참고: 거리 수준으로 돌아가려면 IndoorBuilding.getDefaultLevelIndex()를 통해 기본 층을 가져와 IndoorLevel.activate()를 통해 활성 층으로 설정하세요.
마커 및 정보 창 이벤트
마커가 속한 GoogleMap 객체에 대응하는 리스너를 설정하여 마커 클릭 및 드래그 이벤트 등 마커 이벤트를 수신 대기하고 마커 이벤트에 응답할 수 있습니다. 마커 이벤트 [https://developers.google.com/maps/documentation/android-sdk/marker?hl=ko#handle_marker_events] 가이드를 참고하세요.
정보 창 [https://developers.google.com/maps/documentation/android-sdk/infowindows?hl=ko#info_window_events]에서 이벤트를 수신할 수도 있습니다.
도형 및 오버레이 이벤트
다중선 [https://developers.google.com/maps/documentation/android-sdk/shapes?hl=ko#polyline-events], 다각형 [https://developers.google.com/maps/documentation/android-sdk/shapes?hl=ko#polygon-events], 원 [https://developers.google.com/maps/documentation/android-sdk/shapes?hl=ko#circle-events], 지면 오버레이 [https://developers.google.com/maps/documentation/android-sdk/groundoverlay?hl=ko#overlay-events]의 클릭 이벤트를 수신하고 클릭 이벤트에 응답할 수 있습니다.
참고: 여러 오버레이 또는 도형(마커, 다중선, 다각형, 원, 지면 오버레이)이 겹치는 경우에는 클릭 이벤트가 먼저 마커의 클러스터를 통해 순환된 다음 클릭 가능한 다른 오버레이 또는 도형에 대해 Z-색인 값을 기반으로 트리거됩니다. 클릭당 한 개 이하의 이벤트가 트리거됩니다. 즉, Z-색인 값이 더 낮은 오버레이나 도형에는 클릭이 전달되지 않습니다. 마커 Z-색인 및 클릭 이벤트 [https://developers.google.com/maps/documentation/android-sdk/marker?hl=ko#click-index]에 대해 자세히 알아보세요.
위치 이벤트
앱에서 내 위치 레이어와 관련된 다음 이벤트에 응답할 수 있습니다.
사용자가 내 위치 버튼을 클릭하면 앱이 GoogleMap.OnMyLocationButtonClickListener [https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnMyLocationButtonClickListener?hl=ko]에서 onMyLocationButtonClick() 콜백을 수신합니다.
사용자가 내 위치를 나타내는 파란색 점을 클릭하면 앱이 GoogleMap.OnMyLocationClickListener [https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnMyLocationClickListener?hl=ko]에서 onMyLocationClick() 콜백을 수신합니다.
자세한 내용은 내 위치 레이어 [https://developers.google.com/maps/documentation/android-sdk/location?hl=ko#my-location] 가이드를 참고하세요.
의견 보내기