Source URL: https://developers.google.com/maps/documentation/address-validation/handle-us-address

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Web Services [https://developers.google.com/maps/web-services?hl=ko]
Address Validation API [https://developers.google.com/maps/documentation/address-validation?hl=ko]
의견 보내기
미국 주소 처리
이 문서에서는 미국에 적용되는 주소 유효성 검사를 다룹니다.
워크플로에서 USPS 데이터 사용 [https://developers.google.com/maps/documentation/address-validation/handle-us-address?hl=ko#using-usps-data]
USPS 배송 지점 확인 [https://developers.google.com/maps/documentation/address-validation/handle-us-address?hl=ko#usps-delivery] 필드 (dpv)
보안 메시지 [https://developers.google.com/maps/documentation/address-validation/handle-us-address?hl=ko#security-messages]
워크플로의 USPS 데이터
미국에서 주소를 확인할 때 Address Validation API 서비스는 반환의 uspsData [https://developers.google.com/maps/documentation/address-validation/reference/rest/v1/TopLevel/validateAddress?hl=ko#uspsdata] 부분도 채울 수 있습니다.
핵심사항: 시스템에서 주로 또는 독점적으로 미국 주소를 처리하는 경우 확인 로직에서 이 응답 객체를 첫 번째 참조 지점으로 사용할 수 있습니다. 하지만 서비스에서 검증한 모든 주소에 대해 uspsData 객체가 완전히 채워진다고 보장할 수는 없습니다.
이 객체는 항상 채워지는 것이 아니므로 이 속성을 주소를 검증하는 유일한 수단으로 사용해서는 안 되며, 대신 평결과 주소 구성요소를 시스템에 통합해야 합니다.
USPS 배송 지점 확인 (DPV)
uspsData 응답의 일부로 dpvConfirmation 필드는 USPS가 제공된 주소로 배송할 수 있는지 여부를 알리기 위해 단일 문자를 반환합니다.
이 필드를 사용하여 다음을 확인할 수 있습니다.
주소 유효성 검사
주소에 하위 건물 번호가 누락된 경우
하위 건물 번호가 USPS 데이터 시스템에 없는 경우
서비스는 4개의 dpvConfirmation 값 중 하나를 반환하거나 dpvConfirmation 값을 전혀 반환하지 않습니다. 아래 표에는 가능한 5가지 결과 각각에 대해 논리에서 사용할 수 있는 동작이 나와 있습니다. 이 로직에 관한 자세한 내용은 유효성 검사 로직 빌드의 워크플로 예시 [https://developers.google.com/maps/documentation/address-validation/build-validation-logic?hl=ko#example-workflows]를 참고하세요.
값
동작
설명
N 또는 비어 있음
주소 수정
주소가 DPV 확인되지 않았습니다.
즉, USPS에서 입력한 번지가 입력한 도로 (경로)에 있는 것으로 인식하지 못하며 배송이 불가능할 수 있습니다.
D
하위 건물 추가
주 번호에 대해서만 DPV가 확인되었고 보조 번호 정보가 누락되었습니다.

즉, 입력한 번지가 입력한 도로에 있지만 완전히 인증되고 배송 가능한 주소에 도달하려면 유효한 하위 번호도 제공해야 합니다. 즉, 입력에 하위 전제가 누락되었습니다.
S
주소 확인
주 번호에 대해서만 주소의 DPV가 확인되었으며 보조 번호 정보는 있지만 확인되지 않았습니다.
이는 입력한 경로에 입력한 건물 번호가 있지만 USPS에 따르면 제공된 하위 건물 번호가 해당 건물 내에 없음을 의미합니다.
Y
주소 수락
기본 번호와 보조 번호의 주소가 DPV로 확인되었습니다.
즉, 주소가 USPS에서 완전히 배송 가능해야 합니다(해당하는 경우 하위 건물 번호 포함).
이 섹션의 나머지 부분에서는 DPV 코드를 사용하는 실제 시나리오를 설명합니다.
DPV N 예시 - 주소 수정
이 예시에서는 유효한 주소에 존재하지 않는 번지를 사용합니다.
입력한 주소: 12 Amphitheatre Parkway, Mountain View, CA, 94043
지역: 미국
dpvConfirmation 필드는 N을 반환합니다.
이 경로에 이 전제 번호가 없다는 매우 강력한 신호입니다. 다른 문제가 있는 주소와 마찬가지로 시스템에서 사용자에게 수정하라는 메시지를 표시해야 합니다.
DPV D 예시 - 하위 건물 추가
이 예에서는 뉴욕에 있는 Google 사무실을 사용하지만 주소의 필수 부분인 하위 구내를 포함하지 않습니다. 하위 구내 정보 없이 데모 [https://developers.google.com/maps/documentation/address-validation/demo?hl=ko]의 주소를 사용하면 이를 확인할 수 있습니다.
입력한 주소: 111 8th Avenue, New York, NY, 10011
지역: 미국
dpvConfirmation 필드는 D을 반환합니다.
이는 입력에서 하위 구역이 누락되었음을 확인해 줍니다. DPV가 Y가 되려면 유효한 하위 구내를 입력의 일부로 포함해야 합니다. 예를 들어 FL 4 (4층)의 유효한 하위 구내를 포함하여 dpvConfirmation 값을 Y로 가져올 수 있습니다.
DPV S 예 - 주소 확인
이 예시에서는 건물 내에 존재하지 않는 하위 구내 번호를 사용합니다.
입력한 주소: 1600 Amphitheatre Parkway, Suite 101, Mountain View, CA, 94043
지역: 미국
dpvConfirmation 필드는 S을 반환합니다.
이는 1600 Amphitheatre Parkway가 유효한 주소이지만 하위 건물 Suite 101이 주소의 유효한 부분이 아님을 나타냅니다. 사용자에게 이 정보를 확인하고 수정할 기회를 제공하는 것이 좋습니다.
DPV Y 예 - 주소 수락
이 예에서는 캘리포니아주 마운틴뷰의 Googleplex 주소를 알려진 유효한 주소로 사용합니다.
입력한 주소: 1600 Amphitheatre Parkway, Mountain View, CA, 94043
지역: 미국
dpvConfirmation 필드는 Y을 반환합니다.
주소가 USPS에서 완전히 배송 가능합니다. 이렇게 하면 API가 양질의 주소를 반환했다는 확신을 가질 수 있으며 제공된 대로 사용할 수 있습니다. 언제나처럼 고객에게 확인을 요청할지 여부를 결정할 때는 위험 수준 [https://developers.google.com/maps/documentation/address-validation/build-validation-logic?hl=ko#implementation_guidance]을 고려하세요.
참고: DPV는 Address Validation API가 맞춤법 수정과 같은 입력을 변경했는지 여부를 나타내지 않습니다.
미국 주소의 보안 메시지
이 섹션에서는 인위적으로 생성된 주소에 대해 USPS 데이터에 제공된 보안 플래그를 다룹니다. 이 보안 조치는 제출된 주소가 합법적으로 획득되지 않고 인위적으로 구성된 것으로 보이는 경우를 감지하여 주소 목록이 인위적으로 생성되는 것을 방지하도록 설계되었습니다. 이러한 상황은 매우 드물게 발생합니다.
USPS에서 인위적으로 생성된 주소를 식별하면 응답의 uspsData [https://developers.google.com/maps/documentation/address-validation/reference/rest/v1/TopLevel/validateAddress?hl=ko#uspsdata] 속성의 errorMessage 필드에 문제를 설명하는 오류 메시지가 포함됩니다. 예를 들면 다음과 같습니다.
AMS API processing was terminated due to the detection of what is determined to
be an artificially created address. No address beyond this point has been
validated and/or processed. If you believe this address was identified in error,
please contact your Vendor.
참고: uspsData가 인공 주소를 나타내는 경우 Address Validation API 응답의 다른 속성에 대한 응답은 영향을 받지 않습니다.
의견 보내기