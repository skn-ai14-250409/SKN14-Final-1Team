Source URL: https://developers.google.com/maps/documentation/datasets/prerequisites

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
Maps Datasets API [https://developers.google.com/maps/documentation/datasets?hl=ko]
의견 보내기
시작하기 전에
이 문서에서는 데이터 세트 작업 시의 필수 요건, 권장사항, 일반적인 오류를 설명합니다.
기본 요건
데이터 세트를 만들 때는 다음 조건을 충족해야 합니다.
표시 이름은 Google Cloud 프로젝트 내에서 고유해야 합니다.
표시 이름은 64바이트 미만이어야 합니다. 이러한 문자는 UTF-8로 표시되므로 일부 언어에서는 각 문자가 여러 바이트로 표시될 수 있습니다.
설명은 1,000바이트 미만이어야 합니다.
데이터를 업로드할 때는 다음 사항에 유의하세요.
지원되는 파일 형식은 CSV, GeoJSON, KML입니다.
지원되는 최대 파일 크기는 500MB입니다.
속성 열 이름은 '?_' 문자열로 시작할 수 없습니다.
3차원 도형은 지원되지 않습니다. WKT 형식의 'Z' 서픽스와 GeoJSON 형식의 고도 좌표가 여기에 포함됩니다.
참고: 데이터 파일의 크기에 따라 업로드를 완료하는 데 몇 분 또는 몇 시간이 걸릴 수 있습니다. 업로드에 오류가 있으면 오류 메시지가 표시됩니다. 업로드 작업에서 응답이 반환될 때까지 데이터 세트를 삭제하려고 하지 마세요.
참고: Maps Datasets API를 사용하여 업로드된 데이터로 만든 지도 타일은 낮은 확대/축소 수준에서 밀도 높거나 복잡한 데이터를 삭제하거나 단순화할 수 있습니다. 예를 들어 사용자가 주 또는 국가 (예: 확대/축소 수준 5~12)로 축소하면 타일 데이터가 도시 또는 동네 (예: 확대/축소 수준 13~18)로 확대했을 때와 다르게 보일 수 있습니다. 이는 지도 렌더러가 있는 타일을 사용하여 타일을 슬림하고 성능이 우수하게 유지하기 위해 발생합니다.
팁: 데이터 파일이 크고 스타일 지정에 필요하지 않은 속성이 많이 포함되어 있는 상태에서 렌더링 성능을 최적화하려는 경우, 파일을 수정하여 불필요한 속성을 삭제합니다. 속성 수를 줄이면 지도 타일의 크기가 줄어 렌더링 성능이 개선됩니다.
데이터 준비 권장사항
소스 데이터가 복잡하거나 큰 경우(예: 밀도가 높은 포인트, 긴 선 문자열 또는 다각형, 소스 파일 크기가 50MB를 초과하는 경우가 많음) 시각적 지도에서 최상의 성능을 얻으려면 업로드하기 전에 데이터를 단순화하는 것이 좋습니다.
데이터 준비를 위한 몇 가지 권장사항은 다음과 같습니다.
지형지물 속성 최소화 지도 스타일을 지정하는 데 필요한 기능 속성(예: 'id' 및 'category')만 유지합니다. 고유 식별자 키에 데이터 기반 스타일을 사용하여 클라이언트 애플리케이션의 기능에 추가 속성을 조인할 수 있습니다. 예를 들어 데이터 기반 스타일 지정을 사용하여 데이터를 실시간으로 확인하기 [https://developers.google.com/maps/architecture/dds-real-time?hl=ko]를 참고하세요.
가능한 경우 정수와 같은 속성 객체에 간단한 데이터 유형을 사용하여 타일 크기를 최소화하고 지도 성능을 개선합니다.
파일을 업로드하기 전에 복잡한 기하학적 도형을 단순화하세요. 오픈소스 Mapshaper.org [https://mapshaper.org/] 유틸리티와 같은 원하는 지리공간 도구에서 또는 복잡한 다각형 형상에 ST_Simplify [https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions?hl=ko#st_simplify]를 사용하여 BigQuery에서 이 작업을 수행할 수 있습니다.
파일을 업로드하기 전에 매우 밀도 높은 포인트를 클러스터링합니다. 오픈소스 turf.js 클러스터 함수 [https://turfjs.org/docs/#clustersDbscan]와 같은 원하는 지리공간 도구에서 또는 BigQuery에서 밀도 높은 포인트 형상에 ST_CLUSTERDBSCAN [https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions?hl=ko#st_clusterdbscan]을 사용하여 이 작업을 수행할 수 있습니다.
데이터 세트 및 BigQuery로 데이터 시각화하기 [https://developers.google.com/maps/architecture/bigquery-datasets-visualization?hl=ko#design_considerations]에서 데이터 세트 권장사항에 관한 추가 안내를 확인하세요.
GeoJSON 요구사항
Maps Datasets API는 최신 GeoJSON 사양 [https://datatracker.ietf.org/doc/html/rfc7946]을 지원합니다. Maps Datasets API는 다음 객체 유형이 포함된 GeoJSON 파일도 지원합니다.
도형 객체. 도형 객체는 점, 선, 다각형(구멍이 있을 수 있음)으로 설명된 공간 도형입니다.
지형지물 객체. 지형지물 객체에는 도형과 추가 이름/값 쌍이 포함되어 있으며, 그 의미는 애플리케이션별로 다릅니다.
지형지물 컬렉션. 지형지물 컬렉션은 지형지물 객체의 집합입니다.
Maps Datasets API는 좌표 참조 시스템(CRS)에 WGS84 [https://epsg.io/4326] 이외의 데이터가 있는 GeoJSON 파일을 지원하지 않습니다.
GeoJSON에 대한 자세한 내용은 RFC 7946 준수 [https://www.rfc-editor.org/rfc/rfc7946]를 참고하세요.
KML 요구사항
Maps Datasets API에는 다음 요구사항이 있습니다.
모든 URL은 파일 자체에 대한 로컬 URL 또는 상대 URL이어야 합니다.
점, 선, 다각형 도형이 지원됩니다.
모든 데이터 속성은 문자열로 간주됩니다.
다음과 같은 KML 지형지물은 지원되지 않습니다.
파일 외부에 정의된 아이콘 또는 <styleUrl>
네트워크 링크(예: <NetworkLink>)
지면 오버레이(예: <GroundOverlay>)
3D 도형 또는 고도 관련 태그(예: <altitudeMode>)
카메라 동작 지정(예: <LookAt>)
KML 파일 내에서 정의된 스타일
CSV 요구사항
CSV 파일의 경우 지원되는 열 이름이 우선순위에 따라 아래에 나열되어 있습니다.
latitude, longitude
lat, long
x, y
wkt(Well-Known Text) [https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry]
address, city, state, zip
address
모든 주소 정보가 포함된 단일 열(예: 1600 Amphitheatre Parkway Mountain View, CA 94043)
예를 들어 파일에 x, y, wkt라는 열이 포함되어 있는 경우, 위 목록에 표시된 지원되는 열 이름의 순서에 따라 x 및 y의 우선순위가 더 높기 때문에 x 및 y 열의 값이 사용되고 wkt 열은 무시됩니다.
다음 사항도 적용됩니다.
하나의 열 이름은 하나의 열에 속해야 합니다. 즉, x와 y 좌표 데이터를 모두 포함하는 xy라는 열은 있을 수 없습니다. x 좌표와 y 좌표는 각각 별도의 열에 있어야 합니다.
열 이름은 대소문자를 구분하지 않습니다.
열 이름의 순서는 중요하지 않습니다. 예를 들어 CSV 파일에 lat 열과 long 열이 포함되어 있으면 어떤 순서로든 발생할 수 있습니다.
데이터 업로드 오류 처리
데이터 세트에 데이터를 업로드할 때 이 섹션에서 설명하는 일반적인 오류 중 하나가 발생할 수 있습니다.
GeoJSON 오류
일반적인 GeoJSON 오류는 다음과 같습니다.
type 필드가 누락되었거나 type이 문자열이 아닙니다. 업로드된 GeoJSON 데이터 파일에는 각 지형지물 객체 및 도형 객체 정의의 일부로 type이라는 문자열 필드가 포함되어야 합니다.
KML 오류
일반적인 KML 오류는 다음과 같습니다.
위에서 언급한 지원되지 않는 KML 기능이 데이터 파일에 포함되어서는 안 됩니다. 그렇지 않으면 데이터 가져오기에 실패할 수 있습니다.
CSV 오류
일반적인 CSV 오류는 다음과 같습니다.
일부 행에 도형 열의 값이 없습니다. CSV 파일의 모든 행에는 도형 열을 위한 비어 있지 않은 값이 있어야 합니다. 도형 열에는 다음이 포함됩니다.
latitude, longitude
lat, long
x, y
wkt
address, city, state, zip
address
모든 주소 정보가 포함된 단일 열(예: 1600 Amphitheatre Parkway Mountain View, CA 94043)
참고: 이 오류는 주로 "' ' 값을 double로 변환할 수 없습니다." 또는 "입력값을 지역으로 파싱할 수 없습니다. 지역 값이 누락되었습니다." 같은 형식의 메시지로 나타납니다.
x 및 y가 도형 열인 경우 단위가 경도 및 위도인지 확인합니다. 일부 공개 데이터 세트는 x 및 y 헤더 아래에 다른 좌표계를 사용합니다. 잘못된 단위를 사용해도 데이터 세트를 성공적으로 가져올 수 있지만 렌더링된 데이터에서 데이터 세트 포인트가 예기치 않은 위치에 표시될 수 있습니다.
의견 보내기