Source URL: https://developers.google.com/maps/documentation/geocoding/destinations-migrate?hl=ko
Title: v3 기능에서 SearchDestinations 엔드포인트로 이전

의견 보내기

v3 기능에서 SearchDestinations 엔드포인트로 이전

컬렉션을 사용해 정리하기

내 환경설정을 기준으로 콘텐츠를 저장하고 분류하세요.

이 제품 또는 기능은 실험용(GA 이전) 버전입니다.
GA 이전 제품과 기능에 대한 지원이 제한될 수 있으며 GA 이전 제품과 기능의 변경사항이 다른 GA 이전 버전과 호환되지 않을 수 있습니다. GA 이전 버전 제품 또는 서비스에는 Google Maps Platform 서비스별 약관 [https://cloud.google.com/maps-platform/terms/maps-service-terms?hl=ko]이 적용됩니다. 자세한 내용은 출시 단계 설명 [https://developers.google.com/maps/launch-stages?hl=ko]을 참고하세요.

유럽 경제 지역 (EEA) 개발자

청구서 수신 주소가 유럽 경제 지역에 있는 경우 2025년 7월 8일부터
Google Maps Platform EEA 서비스 약관 [https://cloud.google.com/terms/maps-platform/eea?hl=ko]
이 서비스 이용에 적용됩니다. 기능은 리전에 따라 다릅니다.
자세히 알아보기 [https://developers.google.com/maps/comms/eea/faq?hl=ko]

Geocoding API v3의 다음 기능은 Geocoding API v4의 SearchDestinations [https://developers.google.com/maps/documentation/geocoding/search-for-destinations?hl=ko] 엔드포인트로 대체됩니다.

진입수
탐색 지점
개요 작성
입장권

위 기능에 Geocoding API v3를 사용한 경우 이 문서를 참고하여 대신 SearchDestinations 엔드포인트를 사용하여 이러한 기능을 가져오세요.
이 문서에서는 SearchDestinations API 응답에서 이러한 기능을 찾을 수 있는 위치와 Geocoding API v3와 Geocoding API v4의 SearchDestinations 엔드포인트 간에 API 응답에 이러한 기능이 표시되는 방식의 차이점을 설명합니다.

진입수

destination [https://developers.google.com/maps/documentation/geocoding/reference/rest/v4alpha/geocode.destinations/searchDestinations?hl=ko#destination]와 연결된 입구를 가져오려면 destination.entrances 필드를 사용합니다.

entrance [https://developers.google.com/maps/documentation/geocoding/reference/rest/v4alpha/geocode.destinations/searchDestinations?hl=ko#entrance]의 형식은 Geocoding API v3의 입구 형식 [https://developers.google.com/maps/documentation/geocoding/building-attributes?hl=ko]과 약간 다릅니다.
destination.entrances의 각 입구에는 다음 필드가 있습니다.

displayName - 출입구의 사람이 읽을 수 있는 이름을 갖는 새로운 선택적 필드입니다(예: 'Gate B').
location - LatLng [https://developers.google.com/maps/documentation/geocoding/reference/rest/Shared.Types/LatLng?hl=ko] 유형의 위치입니다. Geocoding API v3에서 사용되는 형식과 다릅니다.
tags - Geocoding API v3의 진입로 tags 필드와 동일합니다.
place - Geocoding API v3의 진입로 buildingPlaceId 필드와 유사합니다. 하지만 이 필드의 장소 ID는 건물뿐만 아니라 모든 유형의 장소일 수 있습니다.

탐색 지점

destination와 연결된 탐색 포인트를 가져오려면 destination.navigationPoints 필드를 사용합니다.

navigationPoint [https://developers.google.com/maps/documentation/geocoding/reference/rest/v4alpha/geocode.destinations/searchDestinations?hl=ko#navigationpoint]의 형식은 Geocoding API v3의 탐색 지점 형식 [https://developers.google.com/maps/documentation/geocoding/navigation-points?hl=ko]과 약간 다릅니다.
destination.navigationPoints의 각 탐색 지점에는 다음 필드가 있습니다.

displayName - 탐색 지점의 사람이 읽을 수 있는 이름(예: '5th Ave')이 포함된 새로운 선택적 필드입니다.
location - LatLng [https://developers.google.com/maps/documentation/geocoding/reference/rest/Shared.Types/LatLng?hl=ko] 유형의 위치입니다. Geocoding API v3에서 사용되는 형식과 다릅니다.
travelModes - Geocoding API v3의 탐색 지점 restrictedTravelModes 필드와 유사합니다. 가능한 열거형 값은 동일하며, 유일한 차이점은 이 필드가 이제 제한된 이동 모드가 아닌 탐색 지점에 허용되는 이동 모드를 나타낸다는 것입니다.
usage - 탐색 지점에서 지원하는 사용 사례를 포함하는 새로운 필드입니다. 대부분의 탐색 지점에는 UNKNOWN 사용이 있지만 탐색 지점의 사용이 어떤 방식으로든 제한된다는 의미는 아닙니다.

개요 작성

destination와 연결된 건물 윤곽선을 가져오려면 건물을 나타내는 destination의 placeView [https://developers.google.com/maps/documentation/geocoding/reference/rest/v4alpha/geocode.destinations/searchDestinations?hl=ko#placeview] 객체의 displayPolygon 필드를 사용해야 합니다. 각 placeView에 대해 placeView.structureType [https://developers.google.com/maps/documentation/geocoding/reference/rest/v4alpha/geocode.destinations/searchDestinations?hl=ko#placeview.structuretype] 필드를 사용하여 건물인지 확인할 수 있습니다. 구조 유형이 BUILDING인 경우 placeView.displayPolygon 필드에서 개요를 가져올 수 있습니다. 또한 placeView에는 Geocoding API v3에 없던 건물의 추가 필드가 있습니다.

destination에는 다음 필드에 건물을 나타내는 placeView 객체가 있을 수 있습니다.

destination.primary - 대상의 기본 위치입니다.
destination.containingPlaces - 기본 장소를 '포함'하는 더 큰 장소를 보유할 수 있는 반복 필드입니다. 예를 들어 기본 장소가 subpremise인 경우 containingPlaces에는 일반적으로 건물을 나타내는 placeView가 포함됩니다.
destination.subDestinations - 기본 장소의 하위 목적지를 보유할 수 있는 반복 필드입니다. 예를 들어 건물의 개별 아파트 단위입니다. 이 필드에는 일반적으로 건물을 나타내는 placeView가 없습니다.

placeView.displayPolygon의 형식은 RFC 7946 형식 [https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.6]을 사용하는 GeoJSON 형식인 Geocoding API v3의 건물 윤곽선 형식 [https://developers.google.com/maps/documentation/geocoding/building-attributes?hl=ko]과 일치합니다.

입장권

윤곽선을 빌드하는 것과 마찬가지로 destination와 연결된 근거를 가져오려면 근거를 나타내는 destination의 placeView 객체의 displayPolygon 필드를 사용해야 합니다. 각 placeView의 경우 placeView.structureType 필드를 사용하여 근거인지 확인할 수 있습니다. 구조 유형이 GROUNDS인 경우 placeView.displayPolygon 필드에서 개요를 가져올 수 있습니다. placeView에는 Geocoding API v3에 없었던 근거에 대한 추가 필드도 있습니다.

destination에는 다음 필드에서 근거를 나타내는 placeView 객체가 있을 수 있습니다.

destination.primary
destination.containingPlaces
destination.subDestinations

placeView.displayPolygon의 형식은 RFC 7946 형식 [https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.6]을 사용하는 GeoJSON 형식인 Geocoding API v3의 부지 개요 형식 [https://developers.google.com/maps/documentation/geocoding/grounds?hl=ko]과 일치합니다.

필드 마스크를 사용하여 이러한 기능 요청

SearchDestinations [https://developers.google.com/maps/documentation/geocoding/search-for-destinations?hl=ko] 엔드포인트에는 반환할 필드 선택 [https://developers.google.com/maps/documentation/geocoding/choose-fields?hl=ko]에 설명된 대로 필드 마스크가 필요합니다. 모든 필드를 반환하도록 필드 마스크를 *로 설정하거나 수신하려는 특정 필드로 설정할 수 있습니다. 예를 들어 다음 API 요청은 목적지의 출입구, 탐색 지점, 건물 윤곽선, 부지를 가져오는 데 필요한 모든 필드를 수신하도록 필드 마스크를 설정합니다.

curl -X POST -d '{"place": "places/ChIJG3kh4hq6j4AR_XuFQnV0_t8"}' \
-H "X-Goog-Api-Key: API_KEY" \
-H "Content-Type: application/json" \
-H "X-Goog-FieldMask: destinations.entrances,destinations.navigationPoints,destinations.primary,destinations.containingPlaces,destinations.subDestinations" \
https://geocode.googleapis.com/v4alpha/geocode/destinations

의견 보내기