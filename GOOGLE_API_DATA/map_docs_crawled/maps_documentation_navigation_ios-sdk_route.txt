Source URL: https://developers.google.com/maps/documentation/navigation/ios-sdk/route

이 페이지는 Cloud Translation API [https://cloud.google.com/translate/?hl=ko]를 통해 번역되었습니다.
홈 [https://developers.google.com/?hl=ko]
제품 [https://developers.google.com/products?hl=ko]
Google Maps Platform [https://developers.google.com/maps?hl=ko]
문서 [https://developers.google.com/maps/documentation?hl=ko]
iOS [https://developers.google.com/maps/ios?hl=ko]
Navigation SDK for iOS [https://developers.google.com/maps/documentation/navigation/ios-sdk?hl=ko]
의견 보내기
경로 탐색
이 가이드에 따라 iOS용 Navigation SDK를 사용하여 앱 내에서 단일 목적지까지의 경로를 표시하세요.
개요
프로젝트 설정 [https://developers.google.com/maps/documentation/navigation/ios-sdk/config?hl=ko] 섹션에 설명된 대로 탐색 SDK를 앱에 통합합니다.
GMSMapView [https://developers.google.com/maps/documentation/navigation/ios-sdk/reference/objc/Classes/GMSMapView?hl=ko]를 구성합니다.
사용자에게 이용약관에 동의하고 위치 서비스와 백그라운드 알림을 승인하라는 메시지를 표시합니다.
하나 이상의 대상을 포함하는 배열을 만듭니다.
GMSNavigator [https://developers.google.com/maps/documentation/navigation/ios-sdk/reference/objc/Classes/GMSNavigator?hl=ko]를 정의하여 내비게이션 세부 경로 안내를 제어합니다.
setDestinations [https://developers.google.com/maps/documentation/navigation/ios-sdk/reference/objc/Classes/GMSNavigator?hl=ko#-setdestinations:callback:]을 사용하여 대상을 추가합니다.
isGuidanceActive [https://developers.google.com/maps/documentation/navigation/ios-sdk/reference/objc/Classes/GMSNavigator?hl=ko#guidanceactive]을 true로 설정하여 내비게이션을 시작합니다.
simulateLocationsAlongExistingRoute [https://developers.google.com/maps/documentation/navigation/ios-sdk/reference/objc/Classes/GMSLocationSimulator?hl=ko#-simulatelocationsalongexistingroute]를 사용하여 테스트, 디버깅, 앱 데모를 위해 경로를 따라 차량의 진행 상황을 시뮬레이션합니다.
참고: 탐색 중에 화면이 어두워지거나 꺼지지 않도록 하려면 Navigation SDK에서는 이를 자동으로 처리하지 않으므로 앱에서 유휴 상태 타이머를 사용 중지 [https://developer.apple.com/documentation/uikit/uiapplication/1623070-idletimerdisabled]해야 합니다. 유휴 타이머를 사용 중지하려면
[UIApplication sharedApplication].idleTimerDisabled = YES;를 호출하세요.
코드 보기
사용자에게 필요한 승인 요청
사용자는 탐색 SDK를 사용하기 전에 이용약관에 동의하고 탐색에 필요한 위치 서비스 사용을 승인해야 합니다. 앱이 백그라운드에서 실행되는 경우 사용자에게 안내 알림을 승인하라는 메시지도 표시해야 합니다. 이 섹션에서는 필요한 승인 메시지를 표시하는 방법을 보여줍니다.
위치 서비스 승인
Navigation SDK는 위치 서비스를 사용하며, 이 서비스에는 사용자 승인이 필요합니다. 위치 서비스를 사용 설정하고 승인 대화상자를 표시하려면 다음 단계를 따르세요.
NSLocationAlwaysUsageDescription [https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW18] 키를 Info.plist에 추가합니다.
값에는 앱에 위치 서비스가 필요한 이유를 간략하게 설명합니다. 예: '이 앱은 경로 안내를 위해 위치 서비스를 사용할 수 있는 권한이 필요합니다.'
승인 대화상자를 표시하려면 위치 관리자 인스턴스의 requestAlwaysAuthorization()를 호출합니다.
백그라운드 안내를 위한 알림 승인
앱이 백그라운드에서 실행 중일 때 알림을 제공하려면 Navigation SDK에 사용자 권한이 필요합니다. 사용자에게 이러한 알림을 표시할 권한을 묻는 다음 코드를 추가합니다.
이용약관에 동의
다음 코드를 사용하여 약관 대화상자를 표시하고 사용자가 약관에 동의하면 탐색을 사용 설정합니다. 이 예에는 위치 서비스와 안내 경고 알림 (이전에 표시됨) 코드가 포함되어 있습니다.
경로 만들기 및 안내 시작
경로를 표시하려면 방문할 하나 이상의 대상 (GMSNavigationWaypoint [https://developers.google.com/maps/documentation/navigation/ios-sdk/reference/objc/Classes/GMSNavigationWaypoint?hl=ko])이 포함된 배열을 사용하여 Navigator의 setDestinations() 메서드를 호출합니다. 계산에 성공하면 경로가 지도에 표시됩니다. 첫 번째 목적지부터 시작하여 경로를 따라 안내를 시작하려면 콜백에서 isGuidanceActive을 true로 설정합니다.
다음 예시는 다음과 같은 기능을 보여줍니다.
두 개의 목적지가 있는 새 경로를 만듭니다.
안내를 시작합니다.
백그라운드 안내 알림을 사용 설정합니다.
경로를 따라 이동하는 시뮬레이션 (선택사항)
카메라 모드를 '따라가기'로 설정합니다(선택사항).
장소 ID에 대해 알아보려면 장소 ID [https://developers.google.com/maps/documentation/places/web-service/place-id?hl=ko]를 참고하세요.
이동 수단 설정
이동 모드는 가져올 경로의 유형과 사용자의 경로가 결정되는 방식을 결정합니다. 경로에 대해 운전, 자전거, 도보, 택시의 4가지 이동 모드 중 하나를 설정할 수 있습니다. 운전 및 택시 모드에서는 사용자의 경로가 이동 방향을 기반으로 합니다. 자전거 및 도보 모드에서는 경로가 기기가 향하는 방향 (가로 모드에서 기기 상단)으로 표시됩니다.
중요: 택시 모드는 실험용 기능입니다.
참고: 에뮬레이터로 자전거 또는 도보 모드를 테스트할 때는 셰브론 방향도 지도 방향도 변경되지 않습니다. 하지만 실제 기기를 사용하는 경우 기기를 회전하면 지도 방향이 바뀌지만 셰브론은 기기가 향하는 방향을 계속 가리킵니다.
다음 예와 같이 지도 뷰의 travelMode [https://developers.google.com/maps/documentation/navigation/ios-sdk/reference/objc/Classes/GMSMapView?hl=ko#/c:objc(cs)GMSMapView(py)travelMode] 속성을 설정합니다.
피할 도로 설정
avoidsHighways 및 avoidsTolls BOOL 속성을 사용하여 경로에서 고속도로 또는 유료도로를 제외합니다.
PlaceID 찾기
PlaceID Finder [https://developers.google.com/maps/documentation/javascript/examples/places-placeid-finder?hl=ko]를 사용하여 경로 목적지에 사용할 장소 ID를 찾을 수 있습니다. GMSNavigationWaypoint [https://developers.google.com/maps/documentation/navigation/ios-sdk/reference/objc/Classes/GMSNavigationWaypoint?hl=ko]가 있는 placeID에서 대상을 추가합니다.
플로팅 텍스트
Google 저작자 표시가 가려지지 않는 한 앱의 어느 곳에나 플로팅 텍스트를 추가할 수 있습니다. Navigation SDK는 지도상의 위도/경도 또는 라벨에 텍스트를 고정하는 기능을 지원하지 않습니다. 자세한 내용은 정보 창 [https://developers.google.com/maps/documentation/ios-sdk/infowindows?hl=ko#maps_ios_markers_info_window_title-objective-c]을 참고하세요.
의견 보내기